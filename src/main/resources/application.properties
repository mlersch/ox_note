# ============================================
# APPLICATION CONFIGURATION
# ============================================
# This file configures the Spring Boot application settings
# Environment variables are loaded using ${VARIABLE_NAME} syntax

# Application name (shown in logs and monitoring)
spring.application.name=note

# Server port - the application runs on http://localhost:8085
# Default Spring Boot port is 8080, but we use 8085 to avoid conflicts
server.port=8085


# ============================================
# DATABASE CONFIGURATION (MongoDB)
# ============================================
# MongoDB is a NoSQL database that stores data in JSON-like documents
# Useful for flexible schemas (like our notes with varying content)

# MongoDB connection string - MUST be set as environment variable
# Format: mongodb://username:password@host:port/database
# Example: mongodb://localhost:27017/notes_db
# For MongoDB Atlas (cloud): mongodb+srv://user:pass@cluster.mongodb.net/notes_db
spring.mongodb.uri=${MONGODB_CONNECTION_STRING}

# Automatically create database indexes for better query performance
# When true, Spring creates indexes based on @Indexed annotations in model classes
spring.data.mongodb.auto-index-creation=true


# ============================================
# JWT (JSON Web Token) CONFIGURATION
# ============================================
# JWT is used for stateless authentication (no sessions)
# Users get tokens after login and include them in subsequent requests

# Secret key for signing JWT tokens - MUST be set as environment variable
# This key is used to verify tokens haven't been tampered with
# IMPORTANT: Keep this secret! If leaked, attackers can create fake tokens
# Generate a secure key: openssl rand -base64 32
jwt.secret=${JWT_SECRET_BASE64}

# Access token expiration time in milliseconds
# 900000 ms = 15 minutes
# Access tokens are short-lived for security (if stolen, they expire quickly)
jwt.access-token-validity-ms=900000

# Refresh token expiration time in milliseconds
# 2592000000 ms = 30 days
# Refresh tokens are long-lived so users don't have to login frequently
# They're stored in database and can be revoked if needed
jwt.refresh-token-validity-ms=2592000000


# ============================================
# API DOCUMENTATION (Swagger/OpenAPI)
# ============================================
# Swagger provides interactive API documentation at /swagger-ui.html
# Very useful for testing endpoints without writing code

# Path to OpenAPI JSON documentation
# Access at: http://localhost:8085/api-docs
springdoc.api-docs.path=/api-docs

# Path to Swagger UI (interactive API browser)
# Access at: http://localhost:8085/swagger-ui.html
springdoc.swagger-ui.path=/swagger-ui.html

# Enable Swagger UI (set to false in production if you want to hide it)
springdoc.swagger-ui.enabled=true


# ============================================
# ENVIRONMENT VARIABLES REQUIRED
# ============================================
# Before running the application, you MUST set these:
#
# 1. MONGODB_CONNECTION_STRING
#    - Your MongoDB connection string
#    - Local: mongodb://localhost:27017/notes_db
#    - Cloud: Get from MongoDB Atlas dashboard
#
# 2. JWT_SECRET_BASE64
#    - A secret key for signing JWT tokens (base64 encoded)
#    - Generate with: openssl rand -base64 32
#    - NEVER commit this to version control!
#
# How to set environment variables:
#
# Windows (CMD):
#   set MONGODB_CONNECTION_STRING=mongodb://localhost:27017/notes_db
#   set JWT_SECRET_BASE64=your_secret_key_here
#
# Windows (PowerShell):
#   $env:MONGODB_CONNECTION_STRING="mongodb://localhost:27017/notes_db"
#   $env:JWT_SECRET_BASE64="your_secret_key_here"
#
# Linux/Mac:
#   export MONGODB_CONNECTION_STRING=mongodb://localhost:27017/notes_db
#   export JWT_SECRET_BASE64=your_secret_key_here
#
# IntelliJ IDEA:
#   Run > Edit Configurations > Environment Variables
#   Add the two variables there